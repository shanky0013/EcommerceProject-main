{% extends "base.html" %}
{% block title %}Home{% endblock title %}
{% block mainContent %}
<h1>Welcome to Shopiverse</h1>
{% endblock mainContent %}
{% block content %}
{% load static %}
<section id="portfolio" class="portfolio">
  <div class="container">
    {% for message in messages %}
        <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
          <strong>{{message}}</strong>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-level="Close"></button>
        </div>
    {% endfor %}
    <div class="section-title">
      <h2>Ready to shop?</h2>
      <h3>Check our <span>Products</span></h3>
    </div>
    {% for products,pagerange,page in  totalProducts %}
    <h3 class="my-3 text-center text-success bg-light">
      {{products.0.category}} MegaSale 
    </h3>
    <div class="container">
      <div class="row">
        {% for product in products %}
          <div class="col-md-3 mt-3">
            <img src="/media/{{product.prodimg}}" alt="Image Not Found" class="card-img-top mt-1 mb-1" height="300px" widht="300px">
            <div class="card-body">
              <div class="card-title">
                <h5 class="card-title mb-2" id="namepr{{product.id}}">{{product.prodname}}</h5>
                <p class="card-text">{{product.desc|slice:"0:51"}}...</p>
                <h6 class="card-title mb-2">Price: <span id="pricepr{{product.id}}">{{product.prodprice}}</span></h6>
                <span id="divpr{{product.id}}"class="divpr">
                  <button id="pr{{product.id}}" class="btn btn-sm btn-success cart mt-0">Add To Cart</button>
                </span>
                <a href="/media/{{product.prodimg}}"><button class="btn btn-sm btn-success cart">View</button></a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
    {% endfor %}

  </div>
</section><!-- End Portfolio Section -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
<script src="{% static '/assets/js/utility.js' %}"></script>
{% endblock content %}